(function(e){e.widget("ui.dtpicker",{options:{time:null,format:null,autocomplete:null,datepicker:null},_create:function(){var e=this.element;this._events()},_setOption:function(e,t){},_appendPicker:function(){var t=this,n=t.element,r=t._getOffset(n),i=n.outerHeight(),s='<div id="dt_container"><div id="dt_datepicker_container"></div><input type="hidden" id="dt_date" /><input type="text" id="dt_time" /></div>';e("#dt_container").remove(),e("body").append(s),e("#dt_container").css({padding:"10px",background:"white",position:"absolute",top:r.top+i,left:r.left}),e("#dt_container").addClass("ui-widget"),e("#dt_datepicker_container").datepicker({onSelect:function(){t._pushDateTime()}}),e("#dt_time").autocomplete({source:this._getAutocompleteMinutes()}),e("#dt_time").outerWidth(e("#dt_container").width()),e("#dt_time").css({margin:"10px 0 0 0"}),e("#dt_time").val(this._getCurrentTime())},_pushDateTime:function(){var t=e("#dt_datepicker_container").datepicker("getDate"),n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),s=e("#dt_time").val(),o=r+"/"+i+"/"+n+" "+s;this.element.val(o),console.log(t+" "+s)},_getCurrentTime:function(){var e=new Date,t=e.getHours(),n=t<12?"AM":"PM";t==0&&(t=12),t>12&&(t-=12);var r=e.getMinutes();r=r<10?"0"+r:r;var i=t+":"+r+" "+n;return i},_getAutocompleteMinutes:function(){var e=["AM","PM"],t=12,n=60,r=[];for(var i=0;i<e.length;i++)for(var s=0;s<t;s++)for(var o=0;o<n;o++){var u=s,a=o;u=u==0?"12":u,a=(a<10?"0":"")+a;var f=u+":"+a+" "+e[i];r.push(f)}return r},_removePicker:function(){e("#dt_container").remove()},_getOffset:function(e){var t=e.offset();return t},_events:function(){var t=this,n=t.element;n.on("focus click",function(e){e.stopPropagation(),t._appendPicker(),t._pushDateTime()}),n.on("blur",function(){}),e(document).on("focus keyup","#dt_time",function(n){n.stopPropagation(),t.element.val(e(this).val()),t._pushDateTime()}),e(document).on("click",function(n){var r=e("#dt_container");!r.is(n.target)&&r.has(n.target).length===0&&t._removePicker()})},_destroy:function(){}})})(jQuery);